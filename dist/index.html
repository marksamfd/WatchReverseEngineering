<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin><link href="/index.c78f85ce.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js" integrity="sha512-TW5s0IT/IppJtu76UbysrBH9Hy/5X41OTAbQuffZFU6lQ1rdcLHzpU5BzVvr/YFykoiMYZVWlr/PX1mDcfM9Qg==" crossorigin referrerpolicy="no-referrer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"><script src="/index.87397d53.js"></script><title>Document</title></head><body> <div class="container h-100 pb-4 pt-1" id="main"> <div class="row"> <div class="col d-flex justify-content-end p-0"> <button class="btn btn-close-white fs-2"><i class="bi bi-x-circle"></i></button> </div> </div> <div class="row"> <h1 class="fw-bold text-white">95 <span class="fs-4 text-dark text-uppercase">bpm</span></h1> </div> <div class="row"> <canvas></canvas> </div> <div class="align-items-center justify-content-center mt-3 row"> <button class="btn btn-danger" id="pairBtn">Pair</button> </div> </div> <script>let log=console.log,initcode="0x9311800000000101000000000000000000000080";log(initcode);const ctx=document.querySelector("canvas").getContext("2d");let labels=[];for(let t=0;t<10;t++)labels.push("06:0"+t);const data={labels:labels,datasets:[{label:"My First Dataset",data:[90],fill:!0,borderColor:"#ff5050",color:"white",tension:.5,borderJoinStyle:"round"}]},myChart=new Chart(ctx,{type:"line",data:data});let heartRate=myChart.data.datasets[0].data;document.querySelector("#pairBtn").addEventListener("click",(async()=>{log("BTN!");const t=await navigator.bluetooth.requestDevice({filters:[{name:"Smart Watch"}],optionalServices:["battery_service",65520]});log("device found",t);const e=await t.gatt.connect();log("connected to server",e);const a=await e.getPrimaryService(65520);log("found service",a);const r=await a.getCharacteristic(65523);log("heart char",r);const o=await a.getCharacteristic(65524);log("init char",o),await r.startNotifications(),log("START NOT"),r.addEventListener("characteristicvaluechanged",(t=>{let e=new Uint8Array(t.target.value.buffer)[8];log(e)})),log("listner");o.writeValue(new Uint8Array(initcode.match(/[\da-f]{2}/gi).map((function(t){return parseInt(t,16)}))))}));</script> </body></html>